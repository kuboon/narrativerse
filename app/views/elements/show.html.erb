<main class="page">
  <section class="detail">
    <div class="detail-header">
      <h1><%= @element.name %></h1>
      <div class="detail-actions">
        <% if policy(@element).update? %>
          <%= link_to policy(@element).manage? ? "編集" : "改訂を作成", edit_element_path(@element), class: "btn ghost" %>
        <% end %>
      </div>
    </div>
    <p class="badge"><%= t("elements.types.#{@element.element_type.downcase}") %></p>
    <p><%= @latest_revision&.summary.presence || "まだ概要がありません。" %></p>
    <div class="detail-meta">
      <div>
        <span class="meta-label">作成者</span>
        <span><%= @element.user.name %></span>
      </div>
      <div>
        <span class="meta-label">リビジョン</span>
        <span><%= @latest_revision&.revision || 0 %></span>
      </div>
    </div>
    <article class="panel">
      <h3>説明</h3>
      <p><%= @latest_revision&.text.presence || "まだ説明がありません。" %></p>
    </article>
  </section>
</main>
