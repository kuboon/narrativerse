<main class="page landing">
  <section class="landing-hero">
    <div class="hero-orb orb-one"></div>
    <div class="hero-orb orb-two"></div>
    <div class="hero-grid">
      <div class="hero-copy">
        <p class="eyebrow">Narrativerse</p>
        <h1>Build branching stories from characters, props, and scenes.</h1>
        <p class="lede">Start with a shared library of elements, stitch scenes into plots, and fork at any moment to explore new possibilities without losing context.</p>
        <div class="hero-actions">
          <%= link_to "Create user", new_user_path, class: "btn primary" %>
          <%= link_to "Start a plot", new_plot_path, class: "btn ghost" %>
          <%= link_to "Browse elements", elements_path, class: "btn ghost" %>
        </div>
        <div class="hero-meta">
          <span class="meta-pill">Revision-safe</span>
          <span class="meta-pill">Shared library</span>
          <span class="meta-pill">Forkable plots</span>
          <span class="meta-pill">AI assist ready</span>
        </div>
      </div>
      <div class="hero-panel">
        <div class="panel-header">Story map</div>
        <div class="story-map">
          <div class="map-node">Scene 1</div>
          <div class="map-branch">
            <div class="map-node">Scene 2</div>
            <div class="map-node alt">Scene 2B</div>
          </div>
          <div class="map-node">Scene 3</div>
        </div>
        <div class="panel-footer">Fork from any moment.</div>
      </div>
    </div>
  </section>

  <section class="landing-steps">
    <div class="grid-header">
      <h2>How it works</h2>
      <%= link_to "Start a plot", new_plot_path, class: "text-link" %>
    </div>
    <div class="step-grid">
      <article class="step-card">
        <span class="step-number">01</span>
        <h3>Create elements</h3>
        <p>Draft characters, items, and fields as reusable building blocks.</p>
      </article>
      <article class="step-card">
        <span class="step-number">02</span>
        <h3>Write scenes</h3>
        <p>Keep each scene focused and link them into a coherent plot.</p>
      </article>
      <article class="step-card">
        <span class="step-number">03</span>
        <h3>Fork branches</h3>
        <p>Let readers jump between branches or spin up new storylines.</p>
      </article>
    </div>
  </section>

  <section class="landing-features">
    <div class="grid-header">
      <h2>Designed for collaboration</h2>
      <%= link_to "Browse plots", plots_path, class: "text-link" %>
    </div>
    <div class="feature-grid">
      <article class="feature-card">
        <div class="feature-icon">A</div>
        <h3>Shared library</h3>
        <p>Reuse other creators' characters and props without losing attribution.</p>
      </article>
      <article class="feature-card">
        <div class="feature-icon">B</div>
        <h3>Safe revisions</h3>
        <p>Update your elements and keep your own plots synced automatically.</p>
      </article>
      <article class="feature-card">
        <div class="feature-icon">C</div>
        <h3>Branch navigation</h3>
        <p>Follow parent plots to keep continuity across forks and rewrites.</p>
      </article>
      <article class="feature-card">
        <div class="feature-icon">D</div>
        <h3>AI assist hooks</h3>
        <p>Generate summaries and draft copy from within the editor.</p>
      </article>
    </div>
  </section>

  <section class="landing-map">
    <div class="map-grid">
      <div>
        <h2>Branch without losing context.</h2>
        <p class="lede">PlotBuilder keeps parent plots in view, so readers always know where a branch came from and what came before.</p>
        <div class="hero-actions">
          <%= link_to "Read a plot", plots_path, class: "btn ghost" %>
          <%= link_to "Start building", new_element_path, class: "btn primary" %>
        </div>
      </div>
      <div class="map-card">
        <div class="map-row">
          <span class="map-pill">Plot A</span>
          <span class="map-line"></span>
          <span class="map-pill alt">Plot B</span>
        </div>
        <div class="map-row">
          <span class="map-pill">Scene 2</span>
          <span class="map-line"></span>
          <span class="map-pill alt">Scene 4</span>
        </div>
        <div class="map-row">
          <span class="map-pill">Parent link</span>
          <span class="map-line"></span>
          <span class="map-pill">Child link</span>
        </div>
        <p class="map-note">Readers can jump between branches and see the full lineage.</p>
      </div>
    </div>
  </section>

  <section class="grid">
    <div class="grid-header">
      <h2>Latest plots</h2>
      <%= link_to "All plots", plots_path, class: "text-link" %>
    </div>
    <% if @plots.any? %>
      <div class="cards">
        <% @plots.each do |plot| %>
          <article class="card">
            <h3><%= plot.title %></h3>
            <p><%= plot.summary.presence || "No summary yet." %></p>
            <%= link_to "Open", plot_path(plot), class: "text-link" %>
          </article>
        <% end %>
      </div>
    <% else %>
      <div class="empty-state">
        <p>No plots yet. Be the first to build a storyline.</p>
        <%= link_to "Create the first plot", new_plot_path, class: "text-link" %>
      </div>
    <% end %>
  </section>

  <section class="grid">
    <div class="grid-header">
      <h2>Latest elements</h2>
      <%= link_to "All elements", elements_path, class: "text-link" %>
    </div>
    <% if @elements.any? %>
      <div class="cards">
        <% @elements.each do |element| %>
          <article class="card">
            <h3><%= element.name %></h3>
            <p><%= element.element_type %></p>
            <%= link_to "Open", element_path(element), class: "text-link" %>
          </article>
        <% end %>
      </div>
    <% else %>
      <div class="empty-state">
        <p>No elements yet. Create the first character or prop.</p>
        <%= link_to "Create an element", new_element_path, class: "text-link" %>
      </div>
    <% end %>
  </section>

  <section class="landing-cta">
    <div class="cta-panel">
      <div>
        <p class="eyebrow">Ready to begin?</p>
        <h2>Start your universe in minutes.</h2>
        <p class="lede">Create a user, write a scene, and branch into new storylines with ease.</p>
      </div>
      <div class="cta-actions">
        <%= link_to "Create user", new_user_path, class: "btn primary" %>
        <%= link_to "Explore plots", plots_path, class: "btn ghost" %>
      </div>
    </div>
  </section>
</main>
